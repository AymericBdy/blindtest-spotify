{"version":3,"sources":["logo.svg","loading.svg","Button.js","utils.js","App.js","index.js","App.module.css","Button.module.css"],"names":["Button","props","className","styles","button","onClick","children","getRandomNumber","x","Math","floor","random","AlbumCover","src","track","album","images","url","style","width","height","App","useState","text","setText","tracks","setTracks","songsLoaded","setLoaded","currentTrackId","setCurrentTrackId","prevTrack","setPrevTrack","currentTrack","setCurrentTrack","nextTrack","setNextTrack","checkAnswer","answer","swal","useEffect","fetch","method","headers","Authorization","then","response","json","data","items","length","console","log","app","appHeader","logo","appLogo","alt","appTitle","controls","autoPlay","preview_url","name","appLink","href","target","rel","loading","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.ea55eae6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c85a0c1f.svg\";","export default __webpack_public_path__ + \"static/media/loading.060cd5d9.svg\";","import React from \"react\"\r\nimport styles from \"./Button.module.css\"\r\n\r\nconst Button = props => (\r\n  <button className={styles.button} onClick={props.onClick}>\r\n    {props.children}\r\n  </button>\r\n)\r\n\r\nexport default Button\r\n","/* Return a random number between 0 included and x excluded */\r\nexport function getRandomNumber(x) {\r\n  return Math.floor(Math.random() * x)\r\n}\r\n\r\nexport function shuffleArray(array) {\r\n  let counter = array.length\r\n\r\n  while (counter > 0) {\r\n    let index = getRandomNumber(counter)\r\n    counter--\r\n    let temp = array[counter]\r\n    array[counter] = array[index]\r\n    array[index] = temp\r\n  }\r\n\r\n  return array\r\n}\r\n","import swal from \"sweetalert\"\r\nimport logo from \"./logo.svg\"\r\nimport loading from \"./loading.svg\"\r\nimport styles from \"./App.module.css\"\r\nimport Button from \"./Button\"\r\nimport { shuffleArray, getRandomNumber } from \"./utils\"\r\nimport { useState,useEffect } from 'react';\r\n\r\n// Get token from https://developer.spotify.com/console/get-current-user-saved-tracks/\r\nconst apiToken = \"BQDPemv4qbZ3lc3tugQJHTT6VvdxArd--3ccBJcCkEkRmF_YEZqaA6RbFvsn5hGad7IPSknx088eTQnHGZZw-MKzA_t2I9EfvPJFwvxRdat7Myj_EjFZvIqO8Ya4EG0xB8b5QY-Leyo-OMJTd66ON3pEAoKHTwxN5a0Kr8NG5PXU54MR\"\r\n\r\nconst AlbumCover = (props) =>  {\r\n  const src = props.track.album.images[0].url;\r\n  return (\r\n      <img src={src} style={{ width: 400, height: 400 }} />\r\n  );\r\n}\r\n\r\nconst App = () => {\r\n  const [text, setText] = useState('Chargement en cours...');\r\n  const [tracks, setTracks] = useState([]);\r\n  const [songsLoaded, setLoaded] = useState(false);\r\n  const [currentTrackId, setCurrentTrackId] = useState(1);\r\n  const [prevTrack, setPrevTrack] = useState({});\r\n  const [currentTrack, setCurrentTrack] = useState({});\r\n  const [nextTrack, setNextTrack] = useState({});\r\n\r\n  function checkAnswer(answer) {\r\n    if(answer == currentTrackId) {\r\n      swal('Bravo', 'Gg !', 'success');\r\n    } else {\r\n      swal('Raté', 'Nul...', 'error');\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://api.spotify.com/v1/playlists/3f4tVz4oV9AVcMMyShLt3O/tracks\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + apiToken,\r\n      },\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        setText(\"Donnée spotify reçues !\");\r\n        setTracks(data.items);\r\n\r\n        setCurrentTrackId(getRandomNumber(3));\r\n\r\n        setPrevTrack(data.items[getRandomNumber(data.items.length)].track);\r\n        setCurrentTrack(data.items[getRandomNumber(data.items.length)].track);\r\n        setNextTrack(data.items[getRandomNumber(data.items.length)].track);\r\n        setLoaded(true);\r\n        console.log(\"Réponse reçue ! Voilà ce que j'ai reçu : \", data)\r\n      })\r\n  }, [])\r\n\r\n  if(!songsLoaded) {\r\n    return (\r\n      <div className={styles.app}>\r\n        <header className={styles.appHeader}>\r\n          <img src={loading} className={styles.appLogo} alt=\"logo\" />\r\n          <h1 className={styles.appTitle}>Bienvenue sur le Blindtest</h1>\r\n          <p>{text}</p>\r\n          <a className={styles.appLink} href=\"https://reactjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            Learn React\r\n          </a>\r\n        </header>\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div className={styles.app}>\r\n        <header className={styles.appHeader}>\r\n          <img src={logo} className={styles.appLogo} alt=\"logo\" />\r\n          <h1 className={styles.appTitle}>Bienvenue sur le Blindtest</h1>\r\n          <p>{text}</p>\r\n          <p>Nombre de morceaux reçu : {tracks.length}</p>\r\n\r\n          <audio controls autoPlay src={currentTrack.preview_url} /> <br />\r\n\r\n          <AlbumCover track={prevTrack} />\r\n          <Button onClick={() => checkAnswer(0)}>{prevTrack.name}</Button>\r\n\r\n          <AlbumCover track={currentTrack} />\r\n          <Button onClick={() => checkAnswer(1)}>{currentTrack.name}</Button>\r\n\r\n          <AlbumCover track={nextTrack} />\r\n          <Button onClick={() => checkAnswer(2)}>{nextTrack.name}</Button>\r\n\r\n          <a className={styles.appLink} href=\"https://reactjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            Learn React\r\n          </a>\r\n        </header>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./global.css\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\"),\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__fYifG\",\"appLogo\":\"App_appLogo__3VZqf\",\"appLogoSpin\":\"App_appLogoSpin__1kDB-\",\"appHeader\":\"App_appHeader__3PZmu\",\"appLink\":\"App_appLink__geLJq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1nNUW\"};"],"sourceRoot":""}